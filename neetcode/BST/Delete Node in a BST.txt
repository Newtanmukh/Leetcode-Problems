class Solution {
public:
    vector<int>nums;
    
    void inorder(TreeNode* root,int key)
    {
        if(!root)
            return;
        
        inorder(root->left,key);
        if(root->val!=key)
        nums.push_back(root->val);
        inorder(root->right,key);
    }
    
    
    TreeNode* helper(int left,int right)
    {
        if(left<=right)
        {
            int mid=left+(right-left)/2;
            TreeNode* newnode=new TreeNode(nums[mid]);
            newnode->left=helper(left,mid-1);
            newnode->right=helper(mid+1,right);
            return newnode;
        }
        return NULL;
        
    }
    
    TreeNode* deleteNode(TreeNode* root, int key) {
     inorder(root,key);
        return helper(0,nums.size()-1);
        
    }
};